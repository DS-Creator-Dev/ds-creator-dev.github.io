<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSC Engine: DSC::ReadOnlyData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DSC Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>DSC</b></li><li class="navelem"><a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_d_s_c_1_1_read_only_data-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DSC::ReadOnlyData Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="readonly__data_8hpp_source.html">readonly_data.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DSC::ReadOnlyData:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_d_s_c_1_1_read_only_data.png" usemap="#DSC::ReadOnlyData_map" alt=""/>
  <map id="DSC::ReadOnlyData_map" name="DSC::ReadOnlyData_map">
<area href="class_d_s_c_1_1_asset_data.html" alt="DSC::AssetData" shape="rect" coords="0,56,126,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3ef6661a7d7b86c63b6a681d1e419c13"><td class="memItemLeft" align="right" valign="top"><a id="a3ef6661a7d7b86c63b6a681d1e419c13" name="a3ef6661a7d7b86c63b6a681d1e419c13"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((packed)) short header_size</td></tr>
<tr class="memdesc:a3ef6661a7d7b86c63b6a681d1e419c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some technical observations to account for during implementation: <br  />
 <br /></td></tr>
<tr class="separator:a3ef6661a7d7b86c63b6a681d1e419c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c5767f51808a5a20aaa718d15713db"><td class="memItemLeft" align="right" valign="top"><a id="a62c5767f51808a5a20aaa718d15713db" name="a62c5767f51808a5a20aaa718d15713db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((packed)) int data_length</td></tr>
<tr class="memdesc:a62c5767f51808a5a20aaa718d15713db"><td class="mdescLeft">&#160;</td><td class="mdescRight">equilavent of sizeof(*this), but foresees class inheritance <br /></td></tr>
<tr class="separator:a62c5767f51808a5a20aaa718d15713db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8ac1dc7e95cfe4a5fe1108f7333fac"><td class="memItemLeft" align="right" valign="top"><a id="ace8ac1dc7e95cfe4a5fe1108f7333fac" name="ace8ac1dc7e95cfe4a5fe1108f7333fac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((packed)) char *data_source</td></tr>
<tr class="memdesc:ace8ac1dc7e95cfe4a5fe1108f7333fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">size in bytes of the actual data <br  />
 <br /></td></tr>
<tr class="separator:ace8ac1dc7e95cfe4a5fe1108f7333fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e807d60f761e4248701de1bcc90faf2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_s_c_1_1_read_only_data.html#a7e807d60f761e4248701de1bcc90faf2">__attribute__</a> ((packed)) unsigned short flags</td></tr>
<tr class="separator:a7e807d60f761e4248701de1bcc90faf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac091f868669ff29e0d0c821e8dd8d0fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_s_c_1_1_read_only_data.html#ac091f868669ff29e0d0c821e8dd8d0fc">ReadOnlyData</a> (int header_size=sizeof(<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a>))</td></tr>
<tr class="separator:ac091f868669ff29e0d0c821e8dd8d0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87aafc79daf1fea788023d5680361865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_s_c_1_1_read_only_data.html#a87aafc79daf1fea788023d5680361865">extract</a> (void *destination) const</td></tr>
<tr class="memdesc:a87aafc79daf1fea788023d5680361865"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes all binary data to the given address  <a href="class_d_s_c_1_1_read_only_data.html#a87aafc79daf1fea788023d5680361865">More...</a><br /></td></tr>
<tr class="separator:a87aafc79daf1fea788023d5680361865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4bfdfd3a816d9f7a8059e953e894f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_s_c_1_1_read_only_data.html#acf4bfdfd3a816d9f7a8059e953e894f7">extract</a> (void *destination, int offset, int length) const</td></tr>
<tr class="memdesc:acf4bfdfd3a816d9f7a8059e953e894f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes binary data sequence to the given address  <a href="class_d_s_c_1_1_read_only_data.html#acf4bfdfd3a816d9f7a8059e953e894f7">More...</a><br /></td></tr>
<tr class="separator:acf4bfdfd3a816d9f7a8059e953e894f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ded40fb10d980cd38fe03bab708ff1"><td class="memItemLeft" align="right" valign="top"><a id="ad9ded40fb10d980cd38fe03bab708ff1" name="ad9ded40fb10d980cd38fe03bab708ff1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ReadOnlyData</b> (const <a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> &amp;)=delete</td></tr>
<tr class="separator:ad9ded40fb10d980cd38fe03bab708ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a8c507a32ab6e60eab3b781bb04438"><td class="memItemLeft" align="right" valign="top"><a id="aa2a8c507a32ab6e60eab3b781bb04438" name="aa2a8c507a32ab6e60eab3b781bb04438"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ReadOnlyData</b> (<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:aa2a8c507a32ab6e60eab3b781bb04438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d08266832736eb8866710fcbc0bfda0"><td class="memItemLeft" align="right" valign="top"><a id="a7d08266832736eb8866710fcbc0bfda0" name="a7d08266832736eb8866710fcbc0bfda0"></a>
<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> &amp;)=delete</td></tr>
<tr class="separator:a7d08266832736eb8866710fcbc0bfda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392e1b926f3aefb9c84b02acf06c09b3"><td class="memItemLeft" align="right" valign="top"><a id="a392e1b926f3aefb9c84b02acf06c09b3" name="a392e1b926f3aefb9c84b02acf06c09b3"></a>
<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a392e1b926f3aefb9c84b02acf06c09b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf19435784da6734988dad8a5a6c0283"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_s_c_1_1_read_only_data.html#adf19435784da6734988dad8a5a6c0283">is_file</a> () const</td></tr>
<tr class="memdesc:adf19435784da6734988dad8a5a6c0283"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if data is written to file  <a href="class_d_s_c_1_1_read_only_data.html#adf19435784da6734988dad8a5a6c0283">More...</a><br /></td></tr>
<tr class="separator:adf19435784da6734988dad8a5a6c0283"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> denotes a type of static resource that lies either in RAM, FAT or NITRO.</p>
<p >This class represents an abstract interface for resource management and should be able to retrieve any bytes buffer regardless of its localization.</p>
<p >This class can also be derived to describe more specialized resource formats.</p>
<p >This class is NOT the binary data itself, but only an expression of it. It is more like a header that resides only in WRAM, whilst the data it points to can be anywhere.</p>
<p >Instances of this class should be constants, not allow moving/making copies of them. In fact, only DSC specialized tools have to create reliable <a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a> instances.</p>
<p >Referencing instances of this class should only be done through pointers (attention to down/upcasts, no polymorphism is being used)</p>
<p >[ !!! POSSIBLE BUG SOURCE !!! ] There is no "Read-Only Memory" thing on DS homebrew. All the constants are being placed in EWRAM (4MB). The compiler tries its best to prevent programmers from altering constant values, but one can simply break the rule by overwriting a constant only using its dereferenced pointer. Assuming the programmer doesn't try anything strange, there is still a chance that an undefined behavior/RAM corruption/ some accidental buffer overflow (eg. for i=0;i&lt;10;i&ndash;) may overwrite in-memory "read-only" data. We should keep a careful eye on that and consider it as a potential explanation for any visual glitches or misterious data corruption. Therefore, when constant data changes its bytes, then something's really messed up. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac091f868669ff29e0d0c821e8dd8d0fc" name="ac091f868669ff29e0d0c821e8dd8d0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac091f868669ff29e0d0c821e8dd8d0fc">&#9670;&#160;</a></span>ReadOnlyData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSC::ReadOnlyData::ReadOnlyData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>header_size</em> = <code>sizeof(<a class="el" href="class_d_s_c_1_1_read_only_data.html">ReadOnlyData</a>)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >bits 0-7 : see ROD_* <br  />
 bits 8-15 : defined by derived formats specifications </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7e807d60f761e4248701de1bcc90faf2" name="a7e807d60f761e4248701de1bcc90faf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e807d60f761e4248701de1bcc90faf2">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSC::ReadOnlyData::__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(packed)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >if is_file==true, data_source is the file path (fat://..., nitro://...) if is_file==false, data_source is a pointer to WRAM if data_source==NULL, then the actual data resides right after *this </p>

</div>
</div>
<a id="a87aafc79daf1fea788023d5680361865" name="a87aafc79daf1fea788023d5680361865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87aafc79daf1fea788023d5680361865">&#9670;&#160;</a></span>extract() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DSC::ReadOnlyData::extract </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes all binary data to the given address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td>address to extract data to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf4bfdfd3a816d9f7a8059e953e894f7" name="acf4bfdfd3a816d9f7a8059e953e894f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4bfdfd3a816d9f7a8059e953e894f7">&#9670;&#160;</a></span>extract() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DSC::ReadOnlyData::extract </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes binary data sequence to the given address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td>address to extract data to </td></tr>
    <tr><td class="paramname">offset</td><td>position in effetive data where copying starts </td></tr>
    <tr><td class="paramname">length</td><td>length of data to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf19435784da6734988dad8a5a6c0283" name="adf19435784da6734988dad8a5a6c0283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf19435784da6734988dad8a5a6c0283">&#9670;&#160;</a></span>is_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DSC::ReadOnlyData::is_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if data is written to file </p>
<dl class="section return"><dt>Returns</dt><dd>true if effective data is in file, false if in WRAM </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Users/NotImpLife/Projects/DS-Creator/engine/include/DSCEngine/resources/<a class="el" href="readonly__data_8hpp_source.html">readonly_data.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
